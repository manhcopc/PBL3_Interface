<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
  x:Class="PBL3_Interface.Pages.ProductPage"
  xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
  xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
  BackgroundColor="#F7EFE9"
  ControlTemplate="{StaticResource SharedManagerPageTemplate}">

  <Grid>
    <!--  Grid chÃ­nh: Chia thÃ nh 2 hÃ ng vÃ  2 cá»™t  -->
    <Grid.RowDefinitions>
      <RowDefinition Height="Auto" />
      <!--  Header  -->
      <RowDefinition Height="*" />
      <!--  Ná»™i dung  -->
    </Grid.RowDefinitions>
    <Grid.ColumnDefinitions>
      <ColumnDefinition Width="*" />
      <!--  Danh má»¥c  -->
      <ColumnDefinition Width="4*" />
      <!--  Danh sÃ¡ch sáº£n pháº©m  -->
    </Grid.ColumnDefinitions>

    <!--  Header  -->
    <Grid Grid.ColumnSpan="2" Style="{DynamicResource DynamicGridStyle}">
      <Grid.RowDefinitions>
        <RowDefinition Height="Auto" />
        <!--  Emoji  -->
        <RowDefinition Height="Auto" />
        <!--  TiÃªu Ä‘á»  -->
      </Grid.RowDefinitions>
      <Label
        Grid.Row="0"
        HorizontalOptions="Center"
        Style="{DynamicResource DynamicLabelTitleStyle}"
        Text="ðŸ“¦" />
      <Label
        Grid.Row="1"
        FontAttributes="Bold"
        HorizontalOptions="Center"
        Style="{DynamicResource DynamicLabelTitleStyle}"
        Text="QUáº¢N LÃ Sáº¢N PHáº¨M"
        TextColor="#4B3621" />
    </Grid>

    <!--  Danh má»¥c bÃªn trÃ¡i  -->
    <Frame
      x:Name="MainFrame"
      Grid.Row="1"
      Grid.Column="0"
      BackgroundColor="White"
      BorderColor="#F2E2D6"
      CornerRadius="{DynamicResource DynamicCornerRadius}"
      Style="{DynamicResource DynamicFrameStyle}">
      <Grid x:Name="LeftMenu" RowSpacing="{DynamicResource DynamicSpacing}">
        <Grid.RowDefinitions>
          <RowDefinition Height="Auto" />
          <!--  TiÃªu Ä‘á»  -->
          <RowDefinition Height="Auto" />
          <!--  Danh má»¥c  -->
          <RowDefinition Height="*" />
          <!--  Khoáº£ng trá»‘ng  -->
        </Grid.RowDefinitions>
        <Label
          Grid.Row="0"
          FontAttributes="Bold"
          Style="{DynamicResource DynamicLabelLargeStyle}"
          Text="DANH Má»¤C"
          TextColor="#4B3621" />
        <Grid Grid.Row="1" RowSpacing="{DynamicResource DynamicSpacing}">
          <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <!--  CÃ  phÃª  -->
            <RowDefinition Height="Auto" />
            <!--  TrÃ   -->
          </Grid.RowDefinitions>
          <Border
            Grid.Row="0"
            BackgroundColor="Transparent"
            Stroke="#F2E2D6"
            StrokeThickness="1">
            <Label
              x:Name="CategoryCoffee"
              Style="{DynamicResource DynamicLabelMediumStyle}"
              Text="â˜• CÃ€ PHÃŠ"
              TextColor="#4B3621"
              VerticalOptions="Center">
              <Label.GestureRecognizers>
                <TapGestureRecognizer Tapped="OnCategoryTapped" />
              </Label.GestureRecognizers>
            </Label>
          </Border>
          <Border
            Grid.Row="1"
            BackgroundColor="Transparent"
            Stroke="#F2E2D6"
            StrokeThickness="1">
            <Label
              x:Name="CategoryMilkTea"
              Style="{DynamicResource DynamicLabelMediumStyle}"
              Text="ðŸµ TRÃ€"
              TextColor="#4B3621"
              VerticalOptions="Center">
              <Label.GestureRecognizers>
                <TapGestureRecognizer Tapped="OnCategoryTapped" />
              </Label.GestureRecognizers>
            </Label>
          </Border>
        </Grid>
      </Grid>
    </Frame>
    <!--  ThÃªm, xÃ³a, xem danh sÃ¡ch  -->
    <Grid
      Grid.Row="1"
      Grid.Column="1"
      RowDefinitions="Auto,*"
      RowSpacing="{DynamicResource DynamicSpacing}">
      <!--  TÃ¬m kiáº¿m, thÃªm  -->
      <Grid
        Grid.Row="0"
        ColumnDefinitions="*,Auto"
        Style="{DynamicResource DynamicGridStyle}">
        <Frame
          Grid.Column="0"
          Padding="{DynamicResource DynamicPadding}"
          BackgroundColor="White"
          CornerRadius="{DynamicResource DynamicCornerRadius}">
          <Grid ColumnDefinitions="*,Auto">
            <Entry
              Grid.Column="0"
              Placeholder="TÃ¬m kiáº¿m..."
              Style="{DynamicResource DynamicEntryStyle}"
              VerticalOptions="Center" />
            <Button
              Grid.Column="1"
              BackgroundColor="#D9D9D9"
              Clicked="OnSearchClicked"
              HorizontalOptions="End"
              Style="{DynamicResource DynamicButtonInsideStyle}"
              Text="TÃ¬m"
              TextColor="Black"
              VerticalOptions="Center" />
          </Grid>
        </Frame>
        <Button
          Grid.Column="1"
          BackgroundColor="#B7B7B7"
          Clicked="OnAddProductClicked"
          Style="{DynamicResource DynamicButtonOutsideStyle}"
          Text="ThÃªm sáº£n pháº©m"
          TextColor="Black" />
      </Grid>
      <ScrollView Grid.Row="1">
        <VerticalStackLayout Padding="{DynamicResource DynamicPadding}">
          <!-- <CollectionView ItemsSource="{Binding MenuItems}">
            <CollectionView.ItemTemplate>
              <DataTemplate>
                <Frame
                  Padding="{DynamicResource DynamicPadding}"
                  BackgroundColor="White"
                  BorderColor="#F2E2D6"
                  CornerRadius="{DynamicResource DynamicCornerRadius}">
                  <Grid
                    ColumnDefinitions="Auto,*,Auto,Auto,Auto"
                    RowDefinitions="Auto,Auto"
                    RowSpacing="{DynamicResource DynamicSpacing}">
                    <Image Grid.RowSpan="2" Source="coffee.png" />
                    <Label
                      Grid.Column="1"
                      Style="{DynamicResource DynamicLabelMediumStyle}"
                      Text="CÃ  phÃª Ä‘en"
                      TextColor="#4B3621" />
                    <Label
                      Grid.Row="1"
                      Grid.Column="1"
                      Style="{DynamicResource DynamicLabelSmallStyle}"
                      Text="Äáº­m Ä‘Ã , nguyÃªn cháº¥t"
                      TextColor="#7B6A54" />
                    <Label
                      Grid.Column="2"
                      Style="{DynamicResource DynamicLabelMediumStyle}"
                      Text="25.000â‚«"
                      TextColor="#4B3621"
                      VerticalOptions="Center" />
                    <Button
                      Grid.Column="3"
                      BackgroundColor="#79CDCD"
                      Clicked="OnEditProductClicked"
                      Style="{DynamicResource DynamicButtonInsideStyle}"
                      Text="Sá»­a"
                      TextColor="Black" />
                    <Button
                      Grid.Column="4"
                      BackgroundColor="#FF0000"
                      BorderWidth="0"
                      HorizontalOptions="Center"
                      Style="{DynamicResource DynamicButtonInsideStyle}"
                      Text="XoÃ¡"
                      TextColor="White"
                      VerticalOptions="Center" />
                  </Grid>
                </Frame>
              </DataTemplate>
            </CollectionView.ItemTemplate>
          </CollectionView>-->
          <Frame
            Padding="{DynamicResource DynamicPadding}"
            BackgroundColor="White"
            BorderColor="#F2E2D6"
            CornerRadius="{DynamicResource DynamicCornerRadius}">
            <Grid
              ColumnDefinitions="Auto,*,Auto,Auto,Auto"
              RowDefinitions="Auto,Auto"
              RowSpacing="{DynamicResource DynamicSpacing}">
              <Image Grid.RowSpan="2" Source="coffee.png" />
              <Label
                Grid.Column="1"
                Style="{DynamicResource DynamicLabelMediumStyle}"
                Text="CÃ  phÃª Ä‘en"
                TextColor="#4B3621" />
              <Label
                Grid.Row="1"
                Grid.Column="1"
                Style="{DynamicResource DynamicLabelSmallStyle}"
                Text="Äáº­m Ä‘Ã , nguyÃªn cháº¥t"
                TextColor="#7B6A54" />
              <Label
                Grid.Column="2"
                Style="{DynamicResource DynamicLabelMediumStyle}"
                Text="25.000â‚«"
                TextColor="#4B3621"
                VerticalOptions="Center" />
              <Button
                Grid.Column="3"
                BackgroundColor="#79CDCD"
                Clicked="OnEditProductClicked"
                Style="{DynamicResource DynamicButtonInsideStyle}"
                Text="Sá»­a"
                TextColor="Black" />
              <Button
                Grid.Column="4"
                BackgroundColor="#FF0000"
                BorderWidth="0"
                HorizontalOptions="Center"
                Style="{DynamicResource DynamicButtonInsideStyle}"
                Text="XoÃ¡"
                TextColor="White"
                VerticalOptions="Center" />
            </Grid>
          </Frame>

          <!--  CÃ¡c sáº£n pháº©m máº«u  -->
          <!--  (CÃ  phÃª, TrÃ  sá»¯a, BÃ¡nh ngá»t nhÆ° trÆ°á»›c Ä‘Ã³)  -->

        </VerticalStackLayout>
      </ScrollView>
    </Grid>

    <!--  Popup ThÃªm sáº£n pháº©m  -->
    <Grid
      x:Name="PopupOverlay"
      Grid.RowSpan="2"
      Grid.ColumnSpan="2"
      BackgroundColor="#80000000"
      IsVisible="False">
      <Frame
        x:Name="AddProductPopup"
        Padding="{DynamicResource DynamicPadding}"
        BackgroundColor="White"
        CornerRadius="{DynamicResource DynamicCornerRadius}"
        HorizontalOptions="Center"
        VerticalOptions="Center">
        <Grid RowSpacing="{DynamicResource DynamicSpacing}">
          <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <!--  TiÃªu Ä‘á»  -->
            <RowDefinition Height="Auto" />
            <!--  TÃªn sáº£n pháº©m  -->
            <RowDefinition Height="Auto" />
            <!--  MÃ´ táº£  -->
            <RowDefinition Height="Auto" />
            <!--  GiÃ¡  -->
            <RowDefinition Height="Auto" />
            <!--  NÃºt  -->
          </Grid.RowDefinitions>
          <Label
            Grid.Row="0"
            FontAttributes="Bold"
            HorizontalOptions="Center"
            Style="{DynamicResource DynamicLabelTitleStyle}"
            Text="THÃŠM Sáº¢N PHáº¨M"
            TextColor="Black" />
          <Entry
            x:Name="ProductNameEntry"
            Grid.Row="1"
            Placeholder="TÃªn sáº£n pháº©m"
            Style="{DynamicResource DynamicEntryStyle}"
            TextColor="Black" />
          <Entry
            x:Name="ProductDescriptionEntry"
            Grid.Row="2"
            Placeholder="MÃ´ táº£"
            Style="{DynamicResource DynamicEntryStyle}"
            TextColor="Black" />
          <Entry
            x:Name="ProductPriceEntry"
            Grid.Row="3"
            Keyboard="Numeric"
            Placeholder="GiÃ¡ (VNÄ)"
            Style="{DynamicResource DynamicEntryStyle}"
            TextColor="Black" />
          <Grid Grid.Row="4" ColumnDefinitions="*,*">
            <Button
              Grid.Column="0"
              Clicked="OnSaveProductClicked"
              Style="{DynamicResource DynamicButtonOutsideStyle}"
              Text="LÆ°u"
              TextColor="Black" />
            <Button
              Grid.Column="1"
              BackgroundColor="#FF0000"
              Clicked="OnCancelProductClicked"
              Style="{DynamicResource DynamicButtonOutsideStyle}"
              Text="Há»§y"
              TextColor="White" />
          </Grid>
        </Grid>
      </Frame>
    </Grid>

    <!--  Popup Chá»‰nh sá»­a sáº£n pháº©m  -->
    <Grid
      x:Name="EditProductPopup"
      Grid.RowSpan="2"
      Grid.ColumnSpan="2"
      BackgroundColor="#80000000"
      IsVisible="False">
      <Frame
        x:Name="EditProductPopupFrame"
        Padding="{DynamicResource DynamicPadding}"
        BackgroundColor="White"
        CornerRadius="{DynamicResource DynamicCornerRadius}"
        HorizontalOptions="Center"
        VerticalOptions="Center">
        <Grid RowSpacing="{DynamicResource DynamicSpacing}">
          <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <!--  TiÃªu Ä‘á»  -->
            <RowDefinition Height="Auto" />
            <!--  TÃªn sáº£n pháº©m  -->
            <RowDefinition Height="Auto" />
            <!--  MÃ´ táº£  -->
            <RowDefinition Height="Auto" />
            <!--  GiÃ¡  -->
            <RowDefinition Height="Auto" />
            <!--  NÃºt  -->
          </Grid.RowDefinitions>
          <Label
            Grid.Row="0"
            FontAttributes="Bold"
            HorizontalOptions="Center"
            Style="{DynamicResource DynamicLabelTitleStyle}"
            Text="CHá»ˆNH Sá»¬A Sáº¢N PHáº¨M"
            TextColor="Black" />
          <Entry
            x:Name="EditProductNameEntry"
            Grid.Row="1"
            Placeholder="TÃªn sáº£n pháº©m"
            Style="{DynamicResource DynamicEntryStyle}"
            TextColor="Black" />
          <Entry
            x:Name="EditProductDescriptionEntry"
            Grid.Row="2"
            Placeholder="MÃ´ táº£"
            Style="{DynamicResource DynamicEntryStyle}"
            TextColor="Black" />
          <Entry
            x:Name="EditProductPriceEntry"
            Grid.Row="3"
            Keyboard="Numeric"
            Placeholder="GiÃ¡ (VNÄ)"
            Style="{DynamicResource DynamicEntryStyle}"
            TextColor="Black" />
          <Grid Grid.Row="4" ColumnDefinitions="*,*">
            <Button
              Grid.Column="0"
              Clicked="OnSaveEditProductClicked"
              Style="{DynamicResource DynamicButtonOutsideStyle}"
              Text="LÆ°u"
              TextColor="Black" />
            <Button
              Grid.Column="1"
              BackgroundColor="#FF0000"
              Clicked="OnCancelEditProductClicked"
              Style="{DynamicResource DynamicButtonOutsideStyle}"
              Text="Há»§y"
              TextColor="White" />
          </Grid>
        </Grid>
      </Frame>
    </Grid>
  </Grid>
</ContentPage>
